<!DOCTYPE html>
<html>
    <head>
        <title>Server</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="index.css">
    </head>
    <body>
        <script src="libs/acebase.min.js"></script>
        <script src="libs/acebase-client.min.js"></script>
        <div class="page fullcenter hidden">
            <h1>88888888 (#NcZ03KNfmra#u19)</h1>
            <div>
                <input type="text" placeholder="@palmbeachschools.org" id="email">
                <input type="password" placeholder="password" id="password">
                <button id="login">Login</button>
                <p class="validation" id="validation"></p>
            </div>
        </div>
        <div class="page hidden">
            <div class="navbar">
                <button class="nav-home">&nbsp;&nbsp;home</button>
                <button class="nav-search">  search</button>
                <button class="nav-add">  add contact</button>
                <button class="nav-schema">  schema editor</button>
                <button class="nav-help">  help</button>
                <button class="nav-account">signed in as <span class="userinfo-name"></span> </button>
            </div>
            <div class="bin">
                <h1>Hello, <span class="userinfo-name"></span></h1>
                <p>APPNAME is a professional partner relationship manager designed specifically to be over-the-top fast, extremely flexible, and most importantly, reliable.</p>
                <p>It derives its speed from using an indexed database, which can return thousands of results in miliseconds.</p>
                <p>True flexiblity can only be achived if the user can modify data structures to their will and not forced to a specific template. Naturally, APPNAME implements this by allowing users to edit the ENTIRE schema of their data.</p>
                <p>Critically, the app can function in any enviroment; online, offline, or slow connection. This means regardless of connection, APPNAME continues to function exactly like normal, and will upload your changes as soon as it goes back online.</p>
            </div>
        </div>
        <div class="page hidden fullcenter">
            <h1>Verfiying...</h1>
        </div>
        <div class="page hidden">
            <div class="navbar">
                <button class="nav-home">&nbsp;&nbsp;home</button>
                <button class="nav-search">  search</button>
                <button class="nav-add">  add contact</button>
                <button class="nav-schema">  schema editor</button>
                <button class="nav-help">  help</button>
                <button class="nav-account">signed in as <span class="userinfo-name"></span> </button>
            </div>
            <div class="bin">
                <h1>Schema Editor <button onclick="helpPop(1);">how do I use this?</button></h1>
                <p>Edit and migrate data schemas</p>
                <select autocomplete="off" onchange="editorEvent('editSchema',this)" class="dboptions" data-name="allschemas"></select>
                <button onclick="editorEvent('new');">or create one</button>
                <div class="schemaeditor">
                    <h1>No Schema Loaded</h1>
                    <p></p>
                    <div class="schema"></div>
                    <button onclick="editorEvent('saveSchema');">Save</button>        
                    <p id="schema-validation">input is correct</p>            
                </div>
            </div>
        </div>
        <div class="page hidden">
            <div class="navbar">
                <button class="nav-home">&nbsp;&nbsp;home</button>
                <button class="nav-search">  search</button>
                <button class="nav-add">  add contact</button>
                <button class="nav-schema">  schema editor</button>
                <button class="nav-help">  help</button>
                <button class="nav-account">signed in as <span class="userinfo-name"></span> </button>
            </div>
            <div class="bin">
                <h1>Database Search <button onclick="helpPop(0);">how do I use this?</button></h1>
                <div class="mainsearch">
                    <div class="optbuilder">
                        <h3>Search Operations</h3>
                        <!--
                        <div class="search-operation">
                            <button></button><p>FILTER: "total donated" > 2000</p>
                        </div>
                        -->
                        <div class="search-operation no-op">
                            <button> </button><p>no operations. try adding one from below</p>
                        </div>
                        <button id="search-searchop-insertafter" onclick="searchEvent('execute',this);">Execute</button>
                        <p id="search-validation">input is correct</p>
                    </div>
                    <div class="searchopbox">
                        <h2>Filter</h2>
                        <p>&nbsp;data via ranges, matching, and excluding</p><br>
                        <select class="dboptions" data-name="allkeys"></select>
                        <select onchange="searchEvent('filterHelp',this);" autocomplete="off" title="Select a key to compare first">
                            <option value="placeholder" selected disabled>Select filter</option>
                            <option value="==">Equal</option>
                            <option value="!=">Not equal</option>
                            <option value="&lt;">Less than</option>
                            <option value="&lt;=">Less than or equal to</option>
                            <option value="&gt;">Greater than</option>
                            <option value="&gt;=">Greater than or equal to</option>
                            <option value="like">Matches pattern</option>
                            <option value="!like">Does not match pattern</option>
                            <option value="between">Between</option>
                            <option value="!between">Not between</option>
                            <option value="exists">Exists (key exists)</option>
                            <option value="!exists">Does not exist (key does not exist)</option>
                        </select>
                        <input type="text" autocomplete="off" placeholder="value">
                        <br>
                        <p id="search-filterhelp">Filter help: Select a filter to see help for it.</p>
                        <br>
                        <button onclick="searchEvent('filterSubmit',this);" id="search-add">Add filter</button>
                    </div>
                    <div class="searchopbox">
                        <h2>Sort</h2>
                        <p>&nbsp;data by a specific key</p><br>
                        <select class="dboptions" data-name="allkeys"></select>
                        <br>
                        <input id="ascclk" type="radio" name="sort" value="asc" checked><label for="ascclk">Ascending</label><br>
                        <input id="dscclk" type="radio" name="sort" value="desc"><label for="dscclk">Descending</label><br>
                        <button id="search-add" onclick="searchEvent('sortSubmit',this);">Add sort</button>
                    </div>
                    <div class="searchopbox" id="searchresults">
                        <h2>Results</h2>
                        
                    </div>
                </div>
            </div>
        </div>
        <div class="page hidden">
            <div class="navbar">
                <button class="nav-home">&nbsp;&nbsp;home</button>
                <button class="nav-search">  search</button>
                <button class="nav-add">  add contact</button>
                <button class="nav-schema">  schema editor</button>
                <button class="nav-help">  help</button>
                <button class="nav-account">signed in as <span class="userinfo-name"></span> </button>
            </div>
            <div class="bin">
                <h1>Add Contact <button onclick="helpPop(2);">how do I use this?</button></h1>
                <p>add a new contact to the database</p>
                <select autocomplete="off" onchange="addEvent('switchSchema', this);" class="dboptions" data-name="allschemas"></select>
                <div class="addForm"></div>
                <button onclick="addEvent('submit');">Submit</button><p id="add-validation">input is correct</p>
            </div>
        </div>
        <div class="popup hidden">
            <h1>Help</h1>
            <p>The database search works by applying a series of user-given filters to the entire set.</p>
            <p>Some filters can only be applied to numbers. (less than, greater than, etc)</p>
            <p>Filters are applied to one key.</p>
            <p class="dismiss">(click anywhere to dismiss)</p>
        </div>
        <div class="popup hidden">
            <h1>Help</h1>
            <p>The schema editor allow you to modify and create new custom types of organizations.</p>
            <p>It is basically a template per type of organization, so that data structure is standardized, yet flexible.</p>
            <p>For example, let's say a new law that requires all donors to have a specific form. Instead of incorrectly putting a link to the form in an unreleated field, the editable schema allows you to simply add this field.</p>
            <p class="dismiss">(click anywhere to dismiss)</p>
        </div>
        <div class="popup hidden">
            <h1>Help</h1>
            <p>This utility is for the creation of new partners in adherance with a chosen schema.</p>
            <p>It is a simple form that allows you to enter data for each field in the schema.</p>
            <p class="dismiss">(click anywhere to dismiss)</p>
        </div>
        <script type="importmap">
            {
                "imports": {
                    "login": "./modules/login.js",
                    "db": "./modules/db.js",
                    "ui": "./modules/ui.js",
                    "userinfo": "./modules/userinfo.js",
                    "filter": "./modules/filter.js",
                    "editor": "./modules/editor.js",
                    "add": "./modules/add.js"
                }
            }
        </script>
        <script type="module" src="main.js"></script>
    </body>
</html>